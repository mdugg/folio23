// https://raw.githubusercontent.com/mdugg/folio22/main/content/decoupledLive.json
// ../../content/decoupledLive.json

export default class DCLoutcomes extends HTMLElement {
	constructor() {
		super();
	}
	connectedCallback() {
		this.getModel();
	}
	disconnectedCallback() {}
	getModel() {
		return new Promise((res, rej) => {
			fetch(
				"https://raw.githubusercontent.com/mdugg/folio22/main/content/decoupledLive.json"
			)
				.then((data) => data.json())
				.then((json) => {
					this.render(json);
					res();
				})
				.catch((error) => rej(error));
		});
	}
	render(data) {
		this.innerHTML = `	
			<section class="flex-col--center">
				<div class="folio-content__text mt4">
					<h3 class="h3-content_section" 
						id="${data.outcomes.section}">
							${data.outcomes.section}
					</h3>	
					<h2 class="h2 mt025">${data.outcomes.sectionTitle}</h2>
					${Object.values(data.outcomes.text)
						.map((value) => {
							return "<p>" + value + "</p>";
						})
						.join("")}
					<figure class="flex-row flex-row--center">
						<svg class="logo-videeo" viewBox="0 0 385 95">
							<path fill="#3366FF" d="M0.969971 30.83H18.27L34.91 77.04H35.17L51.94 30.83H68.71L43.49 94.21H26.58L0.969971 30.83Z" />
							<path fill="#3366FF" d="M88.92 30.83H73.52V94.21H88.92V30.83Z" />
							<path fill="#3366FF" d="M166.27 94.21H151.64V84.18H151.38C149.24 87.77 146.27 89.51 142.46 91.39C138.65 93.27 134.57 94.21 130.21 94.21C125.5 94.21 121.29 93.33 117.57 91.58C113.85 89.83 110.68 87.47 108.08 84.52C105.47 81.57 103.46 78.11 102.05 74.13C100.64 70.15 99.93 65.9 99.93 61.36C99.93 56.82 100.66 52.59 102.11 48.66C103.56 44.73 105.62 41.31 108.27 38.4C110.92 35.49 114.09 33.2 117.76 31.54C121.44 29.87 125.46 29.04 129.82 29.04C132.64 29.04 135.17 29.36 137.39 30C139.61 30.64 141.56 31.43 143.23 32.37C144.9 33.31 146.33 34.34 147.53 35.45C148.73 36.56 149.71 37.63 150.48 38.66H150.87V0.679993H166.27V94.21ZM115.59 61.37C115.59 63.77 115.95 66.16 116.68 68.55C117.4 70.95 118.5 73.08 119.95 74.96C121.4 76.84 123.24 78.38 125.47 79.58C127.69 80.78 130.3 81.38 133.3 81.38C136.12 81.38 138.64 80.8 140.87 79.65C143.09 78.5 145 76.98 146.58 75.1C148.16 73.22 149.36 71.1 150.17 68.75C150.98 66.4 151.39 64.02 151.39 61.63C151.39 59.24 150.98 56.84 150.17 54.44C149.36 52.05 148.16 49.91 146.58 48.03C145 46.15 143.09 44.61 140.87 43.41C138.64 42.21 136.12 41.61 133.3 41.61C130.3 41.61 127.7 42.19 125.47 43.34C123.25 44.49 121.41 46.01 119.95 47.89C118.5 49.77 117.4 51.89 116.68 54.24C115.95 56.59 115.59 58.97 115.59 61.36V61.37Z" />
							<path fill="#3366FF" d="M239.92 62.4V64.45C239.92 65.14 239.88 65.82 239.8 66.5H192.97C193.14 68.73 193.72 70.76 194.7 72.59C195.68 74.43 196.99 76.01 198.61 77.34C200.23 78.67 202.07 79.71 204.13 80.48C206.18 81.25 208.32 81.64 210.54 81.64C214.39 81.64 217.64 80.93 220.29 79.52C222.94 78.11 225.12 76.16 226.83 73.68L237.09 81.89C231.02 90.1 222.21 94.21 210.66 94.21C205.87 94.21 201.47 93.46 197.44 91.96C193.41 90.46 189.93 88.35 186.98 85.61C184.03 82.88 181.72 79.52 180.05 75.54C178.38 71.56 177.55 67.05 177.55 62C177.55 56.95 178.38 52.53 180.05 48.46C181.71 44.4 184 40.94 186.91 38.07C189.82 35.21 193.26 32.98 197.24 31.4C201.22 29.82 205.51 29.03 210.13 29.03C214.41 29.03 218.36 29.74 222 31.15C225.64 32.56 228.78 34.66 231.43 37.44C234.08 40.22 236.16 43.68 237.65 47.83C239.14 51.98 239.89 56.83 239.89 62.39L239.92 62.4ZM224.53 55.47C224.53 53.5 224.25 51.62 223.7 49.82C223.14 48.02 222.26 46.44 221.07 45.07C219.87 43.7 218.35 42.61 216.52 41.8C214.68 40.99 212.52 40.58 210.04 40.58C205.42 40.58 201.5 41.97 198.3 44.75C195.09 47.53 193.31 51.1 192.97 55.46H224.53V55.47Z" />
							<path fill="#66CCFF" d="M309.84 62.4V64.45C309.84 65.14 309.8 65.82 309.72 66.5H262.89C263.06 68.73 263.64 70.76 264.62 72.59C265.6 74.43 266.91 76.01 268.53 77.34C270.15 78.67 271.99 79.71 274.05 80.48C276.1 81.25 278.24 81.64 280.46 81.64C284.31 81.64 287.56 80.93 290.21 79.52C292.86 78.11 295.04 76.16 296.75 73.68L307.01 81.89C300.94 90.1 292.13 94.21 280.58 94.21C275.79 94.21 271.39 93.46 267.36 91.96C263.34 90.46 259.85 88.35 256.9 85.61C253.95 82.88 251.64 79.52 249.97 75.54C248.3 71.56 247.47 67.05 247.47 62C247.47 56.95 248.3 52.53 249.97 48.46C251.63 44.4 253.92 40.94 256.83 38.07C259.74 35.21 263.18 32.98 267.16 31.4C271.14 29.82 275.43 29.03 280.05 29.03C284.33 29.03 288.28 29.74 291.92 31.15C295.56 32.56 298.7 34.66 301.35 37.44C304 40.22 306.08 43.68 307.57 47.83C309.06 51.98 309.81 56.83 309.81 62.39L309.84 62.4ZM294.45 55.47C294.45 53.5 294.17 51.62 293.62 49.82C293.06 48.02 292.18 46.44 290.99 45.07C289.79 43.7 288.27 42.61 286.44 41.8C284.6 40.99 282.44 40.58 279.96 40.58C275.34 40.58 271.42 41.97 268.22 44.75C265.01 47.53 263.23 51.1 262.89 55.46H294.45V55.47Z" />
							<path fill="#3366FF" d="M317.15 61.37C317.15 56.49 318.03 52.07 319.78 48.09C321.53 44.11 323.91 40.71 326.9 37.89C329.89 35.07 333.44 32.89 337.55 31.34C341.66 29.8 346.02 29.03 350.63 29.03C355.24 29.03 359.61 29.8 363.72 31.34C367.83 32.88 371.37 35.06 374.37 37.89C377.36 40.71 379.74 44.11 381.49 48.09C383.24 52.07 384.12 56.49 384.12 61.37C384.12 66.25 383.24 70.69 381.49 74.71C379.74 78.73 377.36 82.17 374.37 85.04C371.37 87.91 367.83 90.15 363.72 91.78C359.61 93.41 355.25 94.22 350.63 94.22C346.01 94.22 341.65 93.41 337.55 91.78C333.45 90.15 329.89 87.91 326.9 85.04C323.91 82.17 321.53 78.73 319.78 74.71C318.03 70.69 317.15 66.24 317.15 61.37ZM332.8 61.37C332.8 63.77 333.16 66.16 333.89 68.55C334.62 70.95 335.71 73.08 337.16 74.96C338.61 76.84 340.45 78.38 342.68 79.58C344.9 80.78 347.55 81.37 350.63 81.37C353.71 81.37 356.36 80.77 358.59 79.58C360.82 78.39 362.65 76.84 364.11 74.96C365.56 73.08 366.65 70.94 367.38 68.55C368.1 66.16 368.47 63.76 368.47 61.37C368.47 58.98 368.1 56.6 367.38 54.25C366.65 51.9 365.56 49.78 364.11 47.9C362.65 46.02 360.82 44.5 358.59 43.35C356.36 42.2 353.72 41.62 350.63 41.62C347.54 41.62 344.9 42.2 342.68 43.35C340.45 44.51 338.61 46.02 337.16 47.9C335.71 49.78 334.62 51.9 333.89 54.25C333.16 56.6 332.8 58.98 332.8 61.37Z" />
							<path fill="#66CCFF" d="M73.55 0.679993V20.4L88.88 10.48L73.55 0.679993Z" />
						</svg>
					</figure>
					<div class="btn-primary--group">
						<a href="${data.outcomes.linkSite}" target="_blank" class="btn-primary--link">
							Marketing site
							<svg class="icon-external" viewBox="0 0 512 512">
								<path d="M400 288C391.2 288 384 295.2 384 304V448c0 17.67-14.33 32-32 32H64c-17.67 0-32-14.33-32-32V160c0-17.67 14.33-32 32-32h112C184.8 128 192 120.8 192 112S184.8 96 176 96L64 96c-35.35 0-64 28.65-64 64V448c0 35.35 28.65 64 64 64h288c35.35 0 64-28.65 64-64V304C416 295.2 408.8 288 400 288zM496 0h-160C327.2 0 320 7.156 320 16S327.2 32 336 32h121.4L180.7 308.7c-6.25 6.25-6.25 16.38 0 22.62C183.8 334.4 187.9 336 192 336s8.188-1.562 11.31-4.688L480 54.63V176C480 184.8 487.2 192 496 192S512 184.8 512 176v-160C512 7.156 504.8 0 496 0z"/>
							</svg>
						</a>
						<a href="${data.outcomes.linkApp}" target="_blank" class="btn-primary--link">
							App login
							<svg class="icon-external" viewBox="0 0 512 512">
								<path d="M400 288C391.2 288 384 295.2 384 304V448c0 17.67-14.33 32-32 32H64c-17.67 0-32-14.33-32-32V160c0-17.67 14.33-32 32-32h112C184.8 128 192 120.8 192 112S184.8 96 176 96L64 96c-35.35 0-64 28.65-64 64V448c0 35.35 28.65 64 64 64h288c35.35 0 64-28.65 64-64V304C416 295.2 408.8 288 400 288zM496 0h-160C327.2 0 320 7.156 320 16S327.2 32 336 32h121.4L180.7 308.7c-6.25 6.25-6.25 16.38 0 22.62C183.8 334.4 187.9 336 192 336s8.188-1.562 11.31-4.688L480 54.63V176C480 184.8 487.2 192 496 192S512 184.8 512 176v-160C512 7.156 504.8 0 496 0z"/>
							</svg>
						</a>
					</div>
				</div>
			</section>
		`;
	}
}
window.customElements.define("dcl-outcomes", DCLoutcomes);
